(()=>{var e={582:(e,t,n)=>{"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}n.d(t,{Z:()=>k});var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,n=[{key:"setStorage",value:function(e,t){var n=JSON.stringify(t);localStorage.setItem(e,n)}},{key:"getStorage",value:function(e){return null!==localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):""}},{key:"removeStorage",value:function(e){localStorage.removeItem(e)}},{key:"clearAllStorage",value:function(){localStorage.clear()}}],null&&o(t.prototype,null),n&&o(t,n),e}();function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.categories=new Set(t),this.books=r.getStorage("Books")?r.getStorage("Books"):[],this.priorityAmount=n,this.filters=["category","author","priority"],this.updateCategories(this.categories)}var t,n;return t=e,(n=[{key:"getFilters",value:function(e){var t=this;return e.map((function(e){return{name:e,filters:t.searchObjects(e)}}))}},{key:"searchObjects",value:function(e){return e?this.books.map((function(t){return t[e]})):new Error("Enter search Value")}},{key:"updateCategories",value:function(e){var t=r.getStorage("categories");t&&t.forEach((function(t){return e.add(t)}))}}])&&a(t.prototype,n),e}(),c=function e(t,n,o,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.author=n,this.title=o,this.category=r,this.priority=a};function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getFilters=n;var o=this.createRootList(),r=this.createHeader(this.getFilters),a=document.createElement("tbody");this.getRootList=function(){return o},this.getHeader=function(){return r},this.getTBody=function(){return a},this.attachToCnt(t,this.getHeader()),this.attachToCnt(t,this.getRootList())}var t,n;return t=e,(n=[{key:"attachToCnt",value:function(e,t){document.querySelector(e).appendChild(t)}},{key:"createRootList",value:function(){var e=document.createElement("div");return e.className="bookList_content",e.appendChild(this.createTableLabel("bookListTable",20)),e.appendChild(this.createTable("bookListTable")),console.log(this.getTBody()),e}},{key:"createHeader",value:function(e){var t=document.createElement("header");return t.className="bookList_header",t.appendChild(this.createHeaderTitle("Book List")),t.appendChild(this.createFilterPanel("bookListFilters","Filters",e)),t}},{key:"createHeaderTitle",value:function(e){var t=document.createElement("h3");return t.className="bookList_header-title",t.textContent=e,t}},{key:"createFilterPanel",value:function(e,t,n){var o=this,r=document.createElement("div"),a=document.createElement("div"),i=document.createElement("label");return i.htmlFor=e,i.textContent=t,a.className="bookList_header-filters_cnt form-group d-flex justify-content-between",a.id=e,console.log(n),n.forEach((function(e){var t=o.createOptionFilterInput("".concat(e.name,"categoryOptionFilter"),e.filters,"".concat(e.name));a.appendChild(t)})),r.appendChild(i),r.appendChild(a),r}},{key:"createOptionFilterInput",value:function(e,t,n){var o=document.createElement("select"),r=document.createElement("option"),a=document.createElement("label"),i=document.createElement("div");return o.id=e,o.className="form-control",o.dataset.role="data-role",r.textContent="Choose...",r.value="",o.appendChild(r),this.renderOptionFilter(t,o),a.htmlFor=e,a.textContent=n,i.className="form-group",i.appendChild(a),i.appendChild(o),i}},{key:"renderOptionFilter",value:function(e,t){e.forEach((function(e){var n=document.createElement("option");n.value=e,n.textContent=e,t.appendChild(n)}))}},{key:"createTableLabel",value:function(e,t){var n=document.createElement("label");return n.htmlFor=e,n.textContent="Books Amount: ".concat(t),n}},{key:"createTable",value:function(e){var t=document.createElement("table");return t.className="table",t.id=e,t.appendChild(this.craeteThead(["Title","Author","Category","Priority","Cover","Actions"])),t.appendChild(this.createTbody()),console.log(this.getTBody),t}},{key:"craeteThead",value:function(e){var t=document.createElement("thead"),n=document.createElement("tr");return e.forEach((function(e){var t=document.createElement("th");t.scope="col",t.textContent=e,n.appendChild(t)})),t.appendChild(n),t}},{key:"createTbody",value:function(){var e=document.createElement("tbody");return e.className="booksListCnt",e}},{key:"renderBooks",value:function(e,t,n){t.forEach((function(o){(new c).renderBooks(e,o,t,n)}))}}])&&l(t.prototype,n),e}();function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=d(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,r=function(){};return{s:r,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function d(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function m(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.titleInput=document.getElementById("titleInput"),this.authorInput=document.getElementById("authorInput"),this.categorySelectCnt=document.getElementById("categoryOptionSelect"),this.categoryInput=document.getElementById("categoryOptionSelect"),this.addCategoryInput=document.getElementById("addCategory"),this.categoryOptionLabel=document.querySelector("[for=categoryOptionSelect]"),this.priorityCheckBoxes=document.querySelectorAll(".form-check-input"),this.formInputs=document.querySelectorAll("[data-role]"),this.addButton=document.querySelector(".btn-add"),this.clearButton=document.querySelector(".btn-clear"),this.addCategoryButton=document.querySelector(".btn-add-category"),this.setInputsStorage(this.formInputs),this.getInputsStorage(this.formInputs)}var t,n;return t=e,(n=[{key:"isNotEmpty",value:function(e){return""!==e.value&&/^[^\s].+[^\s]$/g.test(e.value)}},{key:"isChecked",value:function(){return document.querySelector("[name=priority]:checked")}},{key:"isSelected",value:function(){return"Choose..."!==this.categoryInput.options[this.categoryInput.selectedIndex].value}},{key:"showMsg",value:function(e,t,n){var o=document.createElement("div");o.className="alert alert-".concat(t),o.textContent=n,this.removeShowMsg(e),e.parentNode.insertBefore(o,e)}},{key:"removeShowMsg",value:function(e){e.previousElementSibling.classList.contains("alert")&&e.previousElementSibling.remove()}},{key:"isValid",value:function(){var e=!1;return this.isNotEmpty(this.authorInput)?this.removeShowMsg(this.authorInput):(this.showMsg(this.authorInput,"danger","You should name the author"),e=!0),this.isNotEmpty(this.titleInput)?this.removeShowMsg(this.titleInput):(this.showMsg(this.titleInput,"danger","You should name the title"),e=!0),this.isSelected()?this.removeShowMsg(this.categoryInput):(this.showMsg(this.categoryInput,"danger","Please choose category"),e=!0),this.isChecked()?this.removeShowMsg(document.getElementById("priorityCheckBoxesCnt")):(this.showMsg(document.getElementById("priorityCheckBoxesCnt"),"danger","Please set the priority"),e=!0),!e}},{key:"clearForm",value:function(){this.titleInput.value="",this.authorInput.value="",this.addCategoryInput.value="",this.categoryInput.selectedIndex=null;var e,t=s(this.formInputs);try{for(t.s();!(e=t.n()).done;){var n=e.value;r.removeStorage(n.name)}}catch(e){t.e(e)}finally{t.f()}var o,a=s(this.priorityCheckBoxes);try{for(a.s();!(o=a.n()).done;)o.value.checked=!1}catch(e){a.e(e)}finally{a.f()}}},{key:"clearRadioButton",value:function(){this.priorityCheckBoxes.forEach((function(e){e.removeAttribute("checked"),console.log(e)}))}},{key:"addCategory",value:function(e){var t,n,o=this,a=!1,i=(t=this.addCategoryInput.value).charAt(0).toUpperCase()+t.slice(1);return e.has(i)?(this.showMsg(this.addCategoryInput,"warning","The category has already exist, enter another."),setTimeout((function(){return o.removeShowMsg(o.addCategoryInput)}),2e3)):(e.add(i),this.showMsg(this.addCategoryInput,"success","You've added new category"),this.addCategoryInput.classList.toggle("active"),this.categoryInput.classList.toggle("active"),this.addCategoryButton.classList.toggle("active"),r.removeStorage("addCategory"),r.setStorage("categories",function(e){if(Array.isArray(e))return h(e)}(n=e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(n)||d(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),this.addCategoryInput.value="",setTimeout((function(){return o.removeShowMsg(o.addCategoryInput)}),2e3),a=!0),a}},{key:"setInputsStorage",value:function(e){var t=this;e.forEach((function(e){e.addEventListener("input",(function(){r.setStorage(e.name,e.value),t.categoryInput.classList.contains("active")&&r.removeStorage("addCategory"),t.addCategoryInput.classList.contains("active")&&r.removeStorage("category")}))}))}},{key:"getInputsStorage",value:function(e){e.forEach((function(e){if(r.getStorage(e.name)&&"radio"===e.type){var t=r.getStorage(e.name);document.getElementById("inlineRadio".concat(t)).checked=!0}else{if("radio"===e.type)return;e.value=r.getStorage(e.name)}}))}}])&&m(t.prototype,n),e}();function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var g=function(){function e(t,n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=this.createRoot(),a=n,i=o;this.createForm(r,a,i),this.attachToCnt(t,r)}var t,n;return t=e,(n=[{key:"attachToCnt",value:function(e,t){document.querySelector(e).appendChild(t)}},{key:"createRoot",value:function(){return document.createElement("form")}},{key:"createForm",value:function(e,t,n){e.appendChild(this.createInput("text","titleInput","title","Book Title","Title",!0)),e.appendChild(this.createInput("text","authorInput","author","Book Author","Author",!0)),e.appendChild(this.createOptionInput("categoryOptionSelect","category",t,"Category")),e.appendChild(this.createRadioInput("priorityCheckBoxesCnt","priority","Priority",n)),e.appendChild(this.createBtn("button","btn btn-danger btn-clear","Clear")),e.appendChild(this.createBtn("button","btn btn-success btn-add","Add"))}},{key:"createInput",value:function(e,t,n,o,r,a){var i=document.createElement("input"),c=document.createElement("label"),l=document.createElement("div");return c.htmlFor=t,c.textContent=o,i.type=e,i.id=t,i.name=n,i.className="form-control",i.dataset.role="form-input",i.required=a,i.placeholder=r,i.required=a,l.className="form-group",l.appendChild(c),l.appendChild(i),l}},{key:"createOptionInput",value:function(e,t,n,o){var r=document.createElement("select"),a=document.createElement("option"),i=document.createElement("label"),c=document.createElement("input"),l=document.createElement("div");return r.id=e,r.className="form-control active",r.name=t,r.dataset.role="data-role",a.textContent="Choose...",a.value="",c.type="text",c.id="addCategory",c.className="form-control",c.name="addCategory",c.placeholder="Add category",c.required=!0,c.dataset.role="data-role",r.appendChild(a),this.renderCategories(n,r),i.htmlFor=e,i.textContent=o,l.className="form-group",l.appendChild(i),l.appendChild(this.createBtn("button","btn btn-success btn-add-category","add category")),l.appendChild(c),l.appendChild(r),l}},{key:"createRadioInput",value:function(e,t,n,o){for(var r=document.createElement("div"),a=document.createElement("label"),i=document.createElement("div"),c=1;c<=o;c++){var l=document.createElement("div"),u=document.createElement("input"),s=document.createElement("label");l.className="form-check form-check-inline",u.id="inlineRadio".concat(c),u.className="form-check-input",u.type="radio",u.value=c,u.name=t,u.dataset.role="form-input",s.className="form-check-label",s.textContent="".concat(c),s.htmlFor="inlineRadio".concat(c),l.appendChild(u),l.appendChild(s),i.appendChild(l)}return r.className="form-group",a.htmlFor=e,a.textContent=n,i.id=e,r.appendChild(a),r.appendChild(i),r}},{key:"createBtn",value:function(e,t,n){var o=document.createElement("button");return o.type=e,o.className=t,o.textContent=n,o}},{key:"renderCategories",value:function(e,t){e.forEach((function(e){var n=document.createElement("option");n.value=e,n.textContent=e,t.appendChild(n)}))}},{key:"clearCategories",value:function(e){e.querySelectorAll("option").forEach((function(e){e.value&&e.remove()}))}}])&&f(t.prototype,n),e}();function y(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var v=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=document.createElement("tr"),o=document.createElement("img"),r=document.createElement("img");this.getBookElement=function(){return n},this.getBookElementID=function(){return Number(t.getBookElement().getAttribute("data-id"))},this.getEditIcon=function(){return r},this.getDeleteIcon=function(){return o}}var t,n;return t=e,(n=[{key:"createBook",value:function(e,t){var n=document.createElement("td"),o=document.createElement("td"),r=document.createElement("td"),a=document.createElement("td"),i=document.createElement("td"),c=document.createElement("td"),l=document.createElement("img"),u=document.createElement("div"),s=document.createElement("span"),d=document.createElement("span");n.textContent=t.title,o.textContent=t.author,r.textContent=t.category,a.textContent=t.priority,n.className="title",o.className="author",r.className="category",a.className="priority",this.getEditIcon().src="./assets/edit-regular.svg",this.getDeleteIcon().src="./assets/trash-alt-regular.svg",this.getEditIcon().alt="edit icon",this.getDeleteIcon().alt="delete icon",s.className="icon_Cnt",d.className="icon_Cnt",u.className="iCons_cnt",this.getBookElement().setAttribute("data-id",t.id),this.getBookElement().appendChild(n),this.getBookElement().appendChild(o),this.getBookElement().appendChild(r),this.getBookElement().appendChild(a),this.getBookElement().appendChild(i),this.getBookElement().appendChild(c),s.appendChild(this.getEditIcon()),d.appendChild(this.getDeleteIcon()),u.appendChild(s),u.appendChild(d),c.appendChild(u),i.appendChild(l),document.querySelector(e).appendChild(this.getBookElement())}},{key:"renderBooks",value:function(e,t,n,o){this.createBook(e,t),this.deleteBook(n),this.editBook(n,o)}},{key:"addBook",value:function(e,t,n){if(t.isValid()){var o=new c(n.length,t.titleInput.value,t.authorInput.value,t.categoryInput.value,t.isChecked().value);n.push(o),this.createBook(e,o),this.deleteBook(n),this.editBook(n,t),r.setStorage("Books",n),t.clearForm()}}},{key:"editBook",value:function(e,t){var n=this;this.getEditIcon().addEventListener("click",(function(){var o=e.find((function(e){return e.id===n.getBookElementID()})),r=document.querySelectorAll("[data-id]");n.clearEditFlag(e,!1),n.clearEditFlag(r,!0),o.isEdit=!0,t.editFlag=!0,n.getBookElement().setAttribute("data-edit","edit"),n.setEditFormDetails(e,t)}))}},{key:"setEditFormDetails",value:function(e,t){var n=this,o=t.titleInput,r=t.authorInput,a=t.categoryInput,i=e.find((function(e){return e.id===n.getBookElementID()}));o.value=i.title,r.value=i.author,a.value=i.category,document.getElementById("inlineRadio".concat(i.priority)).checked=!0,t.addButton.textContent="Edit",t.addButton.className="btn btn-warning btn-add"}},{key:"setEditBookContent",value:function(e,t){var n=document.querySelector("[data-edit]"),o=n.querySelector(".title"),a=n.querySelector(".author"),i=n.querySelector(".category"),c=n.querySelector(".priority"),l=t.find((function(e){return e.isEdit}));l.title=e.titleInput.value,l.author=e.authorInput.value,l.category=e.categoryInput.value,l.priority=e.isChecked().value,o.textContent=e.titleInput.value,a.textContent=e.authorInput.value,i.textContent=e.categoryInput.value,c.textContent=e.isChecked().value,delete l.isEdit,n.removeAttribute("data-edit"),r.setStorage("Books",t)}},{key:"updateBook",value:function(e,t){e.isValid()&&(this.setEditBookContent(e,t),e.clearForm(),e.addButton.textContent="Add",e.addButton.className="btn btn-success btn-add",delete e.editFlag)}},{key:"deleteBook",value:function(e){var t=this;this.getDeleteIcon().addEventListener("click",(function(){e.splice(t.getBookElementID(),1),t.getBookElement().remove();var n=document.querySelectorAll("[data-id]");t.resetID(e,"id",!1),t.resetID(n,"data-id",!0),r.setStorage("Books",e)}))}},{key:"resetID",value:function(e,t,n){e.forEach((function(e,o){n?e.setAttribute(t,o):e[t]=o}))}},{key:"clearEditFlag",value:function(e,t){e.forEach((function(e){t?e.removeAttribute("data-edit"):delete e.isEdit}))}}])&&y(t.prototype,n),e}();function C(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var k=function(){function e(t,n){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.list=new i(t,n),this.listUI=new u(".bookList_cnt",this.list.getFilters(this.list.filters)),this.formUI=new g(".form_cnt",this.list.categories,this.list.priorityAmount),this.form=new p,this.renderItems(".booksListCnt",this.list.books,this.form),this.form.addButton.addEventListener("click",(function(e){e.preventDefault(),o.form.editFlag?(new v).updateBook(o.form,o.list.books):(new v).addBook(o.tBody,o.form,o.list.books)})),this.form.clearButton.addEventListener("click",(function(e){e.preventDefault(),o.form.clearForm(),(new v).clearEditFlag(document.querySelectorAll("[data-edit]"),!0),(new v).clearEditFlag(o.list.books,!1),o.form.addButton.textContent="Add",o.form.addButton.className="btn btn-success btn-add",delete o.form.editFlag})),this.form.categoryOptionLabel.addEventListener("click",(function(e){e.preventDefault(),o.form.addCategoryInput.classList.toggle("active"),o.form.categoryInput.classList.toggle("active"),o.form.addCategoryButton.classList.toggle("active")})),this.form.addCategoryButton.addEventListener("click",(function(e){e.preventDefault(),o.form.addCategory(o.list.categories)&&(o.formUI.clearCategories(o.form.categorySelectCnt),o.formUI.renderCategories(o.list.categories,o.form.categorySelectCnt))}))}var t,n;return t=e,(n=[{key:"renderItems",value:function(e,t,n){t.forEach((function(o){(new v).renderBooks(e,o,t,n)}))}}])&&C(t.prototype,n),e}()},656:(e,t,n)=>{"use strict";n.p,n.p,n.p,n.p,n(695),new(n(582).Z)(["Crime","Sci-Fi","Fantasy","Poetry","Drama","Science"],5)},695:()=>{var e=document.querySelector(".navigation__burger");e.addEventListener("click",(function(){e.classList.toggle("active")}))}},t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var o=t.getElementsByTagName("script");o.length&&(e=o[o.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n(656),n(582)})();